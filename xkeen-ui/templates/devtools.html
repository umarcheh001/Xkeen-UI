<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Xkeen UI ‚Äî DevTools</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="csrf-token" content="{{ csrf_token }}">
  
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon-32x32.png') }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon-16x16.png') }}">
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='apple-touch-icon.png') }}">
  <link rel="manifest" href="{{ url_for('static', filename='site.webmanifest') }}">
  <meta name="theme-color" content="#0f172a">
  <!-- Apply typography prefs ASAP (stored in localStorage) -->
  <script src="{{ url_for('static', filename='js/ui/typography.js', v='20251230c') }}"></script>

  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css', v='20251230c') }}">
</head>
<body>
  <div id="global-xkeen-spinner">
    <div class="global-spinner-box">
      <div class="global-spinner-icon"></div>
      <div class="global-spinner-text" id="global-xkeen-spinner-text">
        –í—ã–ø–æ–ª–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏–µ‚Ä¶
      </div>
    </div>
  </div>

  <div class="container container-wide dt-container">
    <header>
      <h1>DevTools</h1>
      <p>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–∞–Ω–µ–ª–∏: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º UI, –ª–æ–≥–∏, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (whitelist).</p>

      <div class="actions" style="justify-content: space-between; align-items: center;">
        <a href="{{ url_for('index') }}" class="btn-link">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏</a>
        <div class="header-actions">
          <button
            type="button"
            id="theme-toggle-btn"
            class="theme-toggle-btn theme-toggle-header"
            aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç–ª—É—é/—Ç—ë–º–Ω—É—é —Ç–µ–º—É"
          ></button>
          <a href="{{ url_for('logout') }}" class="btn-link" title="–í—ã–π—Ç–∏ –∏–∑ –ø–∞–Ω–µ–ª–∏">–í—ã–π—Ç–∏</a>
        </div>
      </div>
    </header>

    <div class="top-tabs dt-tabs" role="tablist" aria-label="DevTools tabs">
      <button type="button" id="dt-tab-btn-tools" class="top-tab-btn active" role="tab" aria-selected="true" aria-controls="dt-tab-tools">Tools</button>
      <button type="button" id="dt-tab-btn-logs" class="top-tab-btn" role="tab" aria-selected="false" aria-controls="dt-tab-logs">Logs</button>
    </div>

    <div id="dt-tab-tools" class="view-section" role="tabpanel" aria-labelledby="dt-tab-btn-tools">

      <div class="layout-2col dt-tools-layout">
        <!-- Left column: compact diagnostics blocks -->
        <div class="layout-side dt-tools-left">

          <section class="card" id="dt-service-card">
            <h2 style="margin-top:0;">–°–µ—Ä–≤–∏—Å –ø–∞–Ω–µ–ª–∏</h2>
            <div class="dt-service-actions" aria-label="UI controls">
              <button type="button" id="dt-ui-start" class="xkeen-ctrl-btn dt-ui-action" title="–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å –≤–µ–±‚Äë–ø–∞–Ω–µ–ª–∏ (UI).">Start</button>
              <button type="button" id="dt-ui-stop" class="xkeen-ctrl-btn dt-ui-action" title="–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å UI. –¢–µ–∫—É—â–∞—è –≤–∫–ª–∞–¥–∫–∞ –º–æ–∂–µ—Ç –æ–±–æ—Ä–≤–∞—Ç—å—Å—è ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.">Stop</button>
              <button type="button" id="dt-ui-restart" class="xkeen-ctrl-btn dt-ui-action" title="–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å UI (—á–∞—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞). –í–∫–ª–∞–¥–∫–∞ –º–æ–∂–µ—Ç –æ–±–æ—Ä–≤–∞—Ç—å—Å—è ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.">Restart</button>
            </div>
            <div class="dt-service-actions-secondary">
              <button type="button" id="dt-ui-refresh" class="btn-secondary" title="–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞ UI.">Refresh</button>
            </div>

            <div id="dt-ui-status" class="status" style="margin-top:10px;">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
            <p class="small" style="margin-top:8px; opacity:0.9;">
              –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: Stop/Restart –º–æ–≥—É—Ç –æ–±–æ—Ä–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–∫–ª–∞–¥–∫—É ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.
            </p>
          </section>

          <section class="card dt-logging-card">
            <h2 style="margin-top:0;">–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
            <div class="small" style="margin-bottom:8px; opacity:0.9;">
              –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–æ–≤ (—á–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É, —á–∞—Å—Ç—å ‚Äî –ø–æ—Å–ª–µ Restart UI).
            </div>

            <div class="dt-logging-grid" role="group" aria-label="Logging settings">
              <label class="dt-logging-field">
                <span class="dt-logging-label">Core level</span>
                <select
                  id="dt-log-core-level"
                  class="dt-pill-field"
                  title="–£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è core.log: ERROR/WARNING/INFO/DEBUG."
                >
                  <option value="ERROR">ERROR</option>
                  <option value="WARNING">WARNING</option>
                  <option value="INFO">INFO</option>
                  <option value="DEBUG">DEBUG</option>
                </select>
              </label>

              <label class="dt-switch dt-logging-switch" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å core.log. –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –∑–∞–ø–∏—Å–∏ –≤ core.log –Ω–µ –≤–µ–¥—É—Ç—Å—è.">
                <input id="dt-log-core-enable" type="checkbox" aria-label="Core log">
                <span class="dt-switch-slider" aria-hidden="true"></span>
                <span class="dt-switch-label">Core log</span>
              </label>

              <label class="dt-switch dt-logging-switch" title="–í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –ª–æ–≥ WebSocket (ws.log). –ú–æ–∂–µ—Ç —Å–∏–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –æ–±—ä—ë–º –ª–æ–≥–æ–≤.">
                <input id="dt-log-ws-enable" type="checkbox" aria-label="WS debug">
                <span class="dt-switch-slider" aria-hidden="true"></span>
                <span class="dt-switch-label">WS debug</span>
              </label>

              <label class="dt-logging-field">
                <span class="dt-logging-label">Rotate (MB)</span>
                <input
                  id="dt-log-rotate-mb"
                  class="dt-pill-field"
                  type="number"
                  min="1"
                  max="50"
                  value="2"
                  inputmode="numeric"
                  title="–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ª–æ–≥–∞ –ø–µ—Ä–µ–¥ —Ä–æ—Ç–∞—Ü–∏–µ–π, –≤ –ú–ë."
                >
              </label>

              <label class="dt-logging-field">
                <span class="dt-logging-label">Backups</span>
                <input
                  id="dt-log-rotate-backups"
                  class="dt-pill-field"
                  type="number"
                  min="1"
                  max="20"
                  value="3"
                  inputmode="numeric"
                  title="–°–∫–æ–ª—å–∫–æ –∞—Ä—Ö–∏–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–∞ —Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Å–ª–µ —Ä–æ—Ç–∞—Ü–∏–∏."
                >
              </label>
            </div>

            <div class="dt-logging-actions">
              <button type="button" id="dt-log-settings-save" class="btn-secondary" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ env‚Äë—Ñ–∞–π–ª –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å (—á–∞—Å—Ç—å ‚Äî –ø–æ—Å–ª–µ Restart UI).">Save</button>
            </div>

            <div class="small" style="margin-top:8px; opacity:0.85;">
              –§–∞–π–ª—ã –ª–æ–≥–æ–≤: core/ws. –°–º–æ—Ç—Ä–µ—Ç—å –º–æ–∂–Ω–æ –≤ –±–ª–æ–∫–µ ¬´–õ–æ–≥–∏ –ø–∞–Ω–µ–ª–∏¬ª.
            </div>
          </section>

          <section class="card" id="dt-ui-prefs-card">
            <h2 style="margin-top:0;">–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å</h2>
            <div class="small" style="margin-bottom:10px; opacity:0.9;">
              –õ–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —ç—Ç–æ–π –≤–∫–ª–∞–¥–∫–∏ (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ).
            </div>

            <label class="dt-switch" title="–°–ø—Ä—è—Ç–∞—Ç—å –∫–Ω–æ–ø–∫—É üí∞ –î–æ–Ω–∞—Ç –≤ —à–∞–ø–∫–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏.">
              <input id="dt-hide-donate-toggle" type="checkbox" aria-label="–û—Ç–∫–ª—é—á–∏—Ç—å –∫–Ω–æ–ø–∫—É üí∞ –î–æ–Ω–∞—Ç">
              <span class="dt-switch-slider" aria-hidden="true"></span>
              <span class="dt-switch-label">–û—Ç–∫–ª—é—á–∏—Ç—å –∫–Ω–æ–ø–∫—É üí∞–î–æ–Ω–∞—Ç</span>
            </label>

            <div style="margin-top:12px;">
              <div class="small" style="margin-bottom:8px; opacity:0.9;">
                –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ (–ª–æ–∫–∞–ª—å–Ω–æ, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ).
              </div>

              <div class="dt-logging-grid" role="group" aria-label="Typography settings">
                <label class="dt-logging-field">
                  <span class="dt-logging-label">–†–∞–∑–º–µ—Ä UI</span>
                  <select id="dt-typo-scale" class="dt-pill-field" title="–ú–∞—Å—à—Ç–∞–± —Ç–µ–∫—Å—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.">
                    <option value="0.9">90%</option>
                    <option value="1">100%</option>
                    <option value="1.1">110%</option>
                    <option value="1.2">120%</option>
                    <option value="1.3">130%</option>
                  </select>
                </label>

                <label class="dt-logging-field">
                  <span class="dt-logging-label">–®—Ä–∏—Ñ—Ç UI</span>
                  <select id="dt-typo-family" class="dt-pill-field" title="–®—Ä–∏—Ñ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.">
                    <option value="">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é (system)</option>
                    <option value="system-ui, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, sans-serif">System UI</option>
                    <option value="Arial, Helvetica, sans-serif">Arial</option>
                    <option value="Tahoma, Verdana, sans-serif">Tahoma</option>
                    <option value="Verdana, Geneva, sans-serif">Verdana</option>
                  </select>
                </label>

                <label class="dt-logging-field">
                  <span class="dt-logging-label">–ú–æ–Ω–æ: —Ä–∞–∑–º–µ—Ä</span>
                  <select id="dt-typo-mono-scale" class="dt-pill-field" title="–ú–∞—Å—à—Ç–∞–± –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω–æ–≥–æ (–ª–æ–≥–∏/—Ä–µ–¥–∞–∫—Ç–æ—Ä—ã).">
                    <option value="auto">–∫–∞–∫ UI</option>
                    <option value="0.9">90%</option>
                    <option value="1">100%</option>
                    <option value="1.1">110%</option>
                    <option value="1.2">120%</option>
                    <option value="1.3">130%</option>
                  </select>
                </label>

                <label class="dt-logging-field">
                  <span class="dt-logging-label">–ú–æ–Ω–æ: —à—Ä–∏—Ñ—Ç</span>
                  <select id="dt-typo-mono-family" class="dt-pill-field" title="–®—Ä–∏—Ñ—Ç –¥–ª—è –ª–æ–≥–æ–≤/—Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤.">
                    <option value="">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é (monospace)</option>
                    <option value="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace">System monospace</option>
                    <option value="Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace">Consolas</option>
                    <option value="&quot;Courier New&quot;, monospace">Courier New</option>
                  </select>
                </label>
              </div>

              <div class="dt-logging-actions">
                <button type="button" id="dt-typo-reset" class="btn-secondary" title="–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏.">Reset</button>
              </div>
            </div>
          </section>

        </div>

        <!-- Right column: ENV whitelist editor -->
        <div class="layout-main dt-tools-right">
          <section class="card">
            <div style="display:flex; justify-content: space-between; align-items:center; gap:10px; flex-wrap:wrap;">
              <h2 style="margin-top:0;">ENV (whitelist)</h2>
              <button type="button" id="dt-env-help-btn" class="btn-secondary" title="–û—Ç–∫—Ä—ã—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ ENV (whitelist).">–°–ø—Ä–∞–≤–∫–∞</button>
            </div>
            <div class="small" id="dt-env-file" style="margin-bottom:10px; opacity:0.9;"></div>
            <div class="small" style="margin-bottom:10px; opacity:0.9;">
              –ó–Ω–∞—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ env-—Ñ–∞–π–ª. –ß–∞—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ Restart UI.
            </div>
            <div class="dt-env-scroll">
              <table>
                <thead>
                  <tr>
                    <th>Key</th>
                    <th>Current</th>
                    <th>Value</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="dt-env-tbody">
                  <tr><td colspan="4">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</td></tr>
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </div>
    </div>

    
<div id="dt-tab-logs" class="view-section" role="tabpanel" aria-labelledby="dt-tab-btn-logs" style="display:none;">
  <section class="card dt-logs-card">
    <h2 style="margin-top:0;">–õ–æ–≥–∏ –ø–∞–Ω–µ–ª–∏</h2>

    <div class="dt-logs-layout">
      <!-- Left: log list -->
      <aside class="dt-logs-sidebar" aria-label="Log list">
        <div class="dt-logs-sidebar-top">
          <div class="small" style="opacity:0.9;">Logs</div>
          <button type="button" id="dt-log-list-refresh" class="btn-secondary dt-log-btn" title="–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ª–æ–≥–æ–≤.">Refresh</button>
        </div>

        <div id="dt-log-list" class="dt-log-list" role="listbox" aria-label="–°–ø–∏—Å–æ–∫ –ª–æ–≥–æ–≤">
          <div class="small" style="opacity:0.85;">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
        </div>

        <div class="small" id="dt-log-list-status" style="margin-top:8px; opacity:0.8;"></div>
      </aside>

      <!-- Right: current log view -->
      <div class="dt-logs-main">
        <div class="dt-log-topbar" aria-label="Log controls">
          <div class="small dt-log-current" style="white-space:nowrap;">
            Log: <strong id="dt-log-current-name">‚Äî</strong>
          </div>

          <!-- Hidden legacy select (kept for backward compatibility with existing JS logic) -->
          <select id="dt-log-select" style="display:none;"></select>

          <div class="dt-log-topbar-actions">
            <button type="button" id="dt-log-refresh" class="btn-secondary dt-log-btn" title="–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ö–≤–æ—Å—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∞.">Refresh</button>
            <button type="button" id="dt-log-copy" class="btn-secondary dt-log-btn" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤–∏–¥–∏–º—ã–µ —Å—Ç—Ä–æ–∫–∏ (—Å —É—á—ë—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤).">Copy</button>

            <details class="dt-log-menu" id="dt-log-more">
              <summary class="btn-secondary dt-log-btn" title="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ" aria-label="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ">‚ãØ</summary>
              <div class="dt-log-menu-panel" role="menu" aria-label="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è">
                <label class="small dt-log-menu-row">
                  lines
                  <input id="dt-log-lines" type="number" min="50" max="2000" value="400" class="dt-log-lines-input" title="–°–∫–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å—Ç—Ä–æ–∫ –ø–æ–∫–∞–∑–∞—Ç—å (50‚Äì2000).">
                </label>
                <button type="button" id="dt-log-load-more" class="btn-secondary dt-log-btn" title="–ü–æ–¥–≥—Ä—É–∑–∏—Ç—å –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ —Å—Ç—Ä–æ–∫–∏ (—É–≤–µ–ª–∏—á–∏—Ç—å –æ–∫–Ω–æ –Ω–∞–∑–∞–¥).">Load more</button>
                <button type="button" id="dt-log-download" class="btn-secondary dt-log-btn" title="–°–∫–∞—á–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ª–æ–≥‚Äë—Ñ–∞–π–ª.">Download</button>
                <button type="button" id="dt-log-clear" class="btn-danger dt-log-btn" title="–û—á–∏—Å—Ç–∏—Ç—å (–æ–±–Ω—É–ª–∏—Ç—å) –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ª–æ–≥‚Äë—Ñ–∞–π–ª.">Clear</button>
              </div>
            </details>
          </div>
        </div>

        <div class="dt-log-controls" aria-label="Log filters">
          <div class="dt-log-search-group">
            <input
              id="dt-log-search"
              type="text"
              class="xray-log-filter dt-log-filter"
              placeholder="–§–∏–ª—å—Ç—Ä –ø–æ –ª–æ–≥–∞–º (–ø—Ä–∏–º–µ—Ä: error vpn)"
              autocomplete="off"
              spellcheck="false"
            />
            <button
              id="dt-log-filter-clear"
              type="button"
              class="btn-secondary dt-log-btn"
              title="–û—á–∏—Å—Ç–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä"
              aria-label="–û—á–∏—Å—Ç–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä"
            >‚úñ</button>
          </div>

          <label class="dt-switch" title="Live —Ä–µ–∂–∏–º (tail -f): –∞–≤—Ç–æ‚Äë–ø–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫.">
            <input id="dt-log-live" type="checkbox" />
            <span class="dt-switch-slider" aria-hidden="true"></span>
            <span class="dt-switch-label">Live</span>
          </label>
          <!-- Legacy Auto checkbox (kept for backward compatibility with existing JS logic) -->
          <input id="dt-log-auto" type="checkbox" style="display:none;" />

          <div class="dt-log-interval" title="–ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ‚Äë–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.">
            <span class="dt-log-interval-label">every</span>
            <select id="dt-log-interval" class="xray-log-select">
              <option value="1000">1s</option>
              <option value="2000">2s</option>
              <option value="5000" selected>5s</option>
              <option value="10000">10s</option>
              <option value="30000">30s</option>
            </select>
          </div>

          <label class="dt-switch" title="–ê–≤—Ç–æ‚Äë–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤ –∫–æ–Ω–µ—Ü –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.">
            <input id="dt-log-follow" type="checkbox" checked />
            <span class="dt-switch-slider" aria-hidden="true"></span>
            <span class="dt-switch-label">Follow</span>
          </label>

          <span class="small dt-log-stats" id="dt-log-stats" aria-live="polite"></span>
        </div>

<div class="small" id="dt-log-path" style="margin:8px 0; opacity:0.9;"></div>
        <pre id="dt-log-view" class="log-block xray-log-block dt-log-view" data-raw-text="" title="–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–∞ (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)." style="margin:0;"></pre>
      </div>
    </div>
  </section>
</div>

      <!-- Shared confirm modal (replaces browser confirm alerts) -->
      <div id="confirm-modal" class="modal hidden" role="dialog" aria-modal="true" aria-label="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ">
        <div class="modal-content">
          <div class="modal-header">
            <span class="modal-title" id="confirm-modal-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</span>
            <button type="button" class="modal-close" id="confirm-modal-close-btn" title="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
          </div>
          <div class="modal-body">
            <p id="confirm-modal-message" class="modal-description"></p>
          </div>
          <div class="modal-actions">
            <button type="button" id="confirm-modal-cancel-btn">–û—Ç–º–µ–Ω–∏—Ç—å</button>
            <button type="button" id="confirm-modal-ok-btn" class="btn-danger">OK</button>
          </div>
        </div>
      </div>

      <!-- Log line context modal (Stage 8) -->
      <div id="dt-log-context-modal" class="modal hidden" role="dialog" aria-modal="true" aria-label="–ö–æ–Ω—Ç–µ–∫—Å—Ç –ª–æ–≥–∞">
        <div class="modal-content" style="max-width: 980px;">
          <div class="modal-header">
            <div style="display:flex; flex-direction:column; gap:2px;">
              <span class="modal-title" id="dt-log-context-title">Context</span>
              <span id="dt-log-context-subtitle" class="modal-hint" style="margin:0; font-size: 0.82rem; opacity:0.75;"></span>
            </div>
            <button type="button" class="modal-close" id="dt-log-context-close-btn" title="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
          </div>
          <div class="modal-body modal-body-logs">
            <pre id="dt-log-context-body" class="log-block" style="margin:0; white-space:pre-wrap;"></pre>
          </div>
          <div class="modal-actions" style="justify-content: space-between;">
            <button type="button" id="dt-log-context-copy-btn" class="btn-secondary" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.">Copy context</button>
            <button type="button" id="dt-log-context-ok-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
          </div>
        </div>
      </div>


      <!-- ENV help modal -->
      <div id="dt-env-help-modal" class="modal hidden" role="dialog" aria-modal="true" aria-label="–°–ø—Ä–∞–≤–∫–∞: ENV whitelist">
        <div class="modal-content">
          <div class="modal-header">
            <div style="display:flex; flex-direction:column; gap:2px;">
              <span class="modal-title">–°–ø—Ä–∞–≤–∫–∞: ENV (whitelist)</span>
              <span class="modal-hint" style="margin:0; font-size: 0.82rem; opacity:0.75;">–ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–∞–∫ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∫–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.</span>
            </div>
            <button type="button" class="modal-close" id="dt-env-help-close-btn" title="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
          </div>
          <div class="modal-body">
            <div id="dt-env-help-body"></div>
          </div>
          <div class="modal-actions" style="justify-content:flex-end;">
            <button type="button" id="dt-env-help-ok-btn">–ó–∞–∫—Ä—ã—Ç—å</button>
          </div>
        </div>
      </div>

      <div id="toast-container"></div>

    <footer>
      <small>Xkeen UI ‚Äî DevTools.</small>
    </footer>
  </div>

  <!-- Modular: init + feature logic -->
  <script src="{{ url_for('static', filename='js/00_state.js') }}"></script>
  <script src="{{ url_for('static', filename='js/01_bootstrap.js') }}"></script>
  <script src="{{ url_for('static', filename='js/ui/toast.js') }}"></script>
  <script src="{{ url_for('static', filename='js/ui/theme.js') }}"></script>
  <script src="{{ url_for('static', filename='js/ui/spinner_fetch.js') }}"></script>
  <script src="{{ url_for('static', filename='js/ui/modal.js') }}"></script>
  <script src="{{ url_for('static', filename='js/ui/confirm_modal.js') }}"></script>
  <script src="{{ url_for('static', filename='js/features/donate.js') }}"></script>
  <script src="{{ url_for('static', filename='js/features/typography.js', v='20251230c') }}"></script>
  <script src="{{ url_for('static', filename='js/features/devtools.js', v='20251228g') }}"></script>
  <script src="{{ url_for('static', filename='js/pages/devtools.init.js') }}"></script>
</body>
</html>

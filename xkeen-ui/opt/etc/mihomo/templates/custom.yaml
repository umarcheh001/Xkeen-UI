#######################################################################################################
# –û–ø–∏—Å–∞–Ω–∏–µ:
# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://192.168.1.1:9090/ui (192.168.1.1 = IP —Ä–æ—É—Ç–µ—Ä–∞).
# –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∑–∞–ø—É—Å–∫–∞ mihomo –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–π—Ç–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤.
# –ì—Ä—É–ø–ø–∞ "–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã" —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤.
#######################################################################################################
# –î–ª—è —Ä–∞–±–æ—Ç—ã Discord —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä—Ç—ã XKeen: 80,443,2000:2300,8443,19200:19400,50000:50030
# –î–ª—è —Ä–∞–±–æ—Ç—ã Whatsapp/Telegram —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ä—Ç—ã Xkeen: 80,443,596:599,1400,3478,5222
#######################################################################################################

port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: silent
ipv6: true
unified-delay: true
tcp-concurrent: true
global-client-fingerprint: chrome
redir-port: 7892
tproxy-port: 7893

# Dashboard (–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
external-controller: "0.0.0.0:9090"
secret: "admin"
external-ui: ui
external-ui-url: "https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip"
profile:
  store-selected: true

sniffer:
  enable: true
  parse-pure-ip: true
  force-dns-mapping: true
  sniff:
    HTTP:
    TLS:
    QUIC:

anchors:
  a1: &domain       { type: http, format: mrs,  behavior: domain,    interval: 86400 }
  a2: &ipcidr       { type: http, format: mrs,  behavior: ipcidr,    interval: 86400 }
  a3: &classical    { type: http, format: text, behavior: classical, interval: 86400 }
  a4: &inline       { type: inline,            behavior: classical }
  a5: &ipcidr-text  { type: http, format: text, behavior: ipcidr,    interval: 86400 }

#############################################################################################
# –ü—Ä–∏–º–µ—Ä VLESS –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ë–ï–ó –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ #
#############################################################################################



######################################################################################
# –ü–æ–¥–ø–∏—Å–∫–∏
######################################################################################
proxy-providers:
  proxy-sub:
    type: http
    url: ""
    path: ./proxy_providers/my-vless-sub.yaml
    interval: 3600
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      timeout: 8000
      lazy: true
      expected-status: 204
    override:
      tfo: true
      mptcp: true
      udp: true

  proxy-sub-2:
    type: http
    url: ""
    path: ./proxy_providers/my-vless-sub-2.yaml
    interval: 3600
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      timeout: 8000
      lazy: true
      expected-status: 204
    override:
      tfo: true
      mptcp: true
      udp: true
  proxy-sub-3:
    type: http
    url: ""
    path: ./proxy_providers/my-vless-sub-3.yaml
    interval: 3600
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      timeout: 8000
      lazy: true
      expected-status: 204
    override:
      tfo: true
      mptcp: true
      udp: true
  proxy-sub-4:
    type: http
    url: ""
    path: ./proxy_providers/my-vless-sub-4.yaml
    interval: 3600
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      timeout: 8000
      lazy: true
      expected-status: 204
    override:
      tfo: true
      mptcp: true
      udp: true
  proxy-sub-5:
    type: http
    url: ""
    path: ./proxy_providers/my-vless-sub-5.yaml
    interval: 3600
    health-check:
      enable: true
      url: "http://www.gstatic.com/generate_204"
      interval: 300
      timeout: 8000
      lazy: true
      expected-status: 204
    override:
      tfo: true
      mptcp: true
      udp: true

proxy-groups:
  - name: –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Reject.png
    use:
      - proxy-sub
      - proxy-sub-2

  - name: YouTube
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
    include-all: true
    proxies: [–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã, DIRECT]

  - name: Discord
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Discord.png
    proxies: [–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã, DIRECT]

  - name: Twitch
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Twitch.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Reddit
    type: select
    icon: https://www.redditstatic.com/shreddit/assets/favicon/192x192.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Meta
    type: select
    icon: https://github.com/zxc-rv/assets/raw/main/group-icons/meta.png
    proxies: [–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã, DIRECT]

  - name: Spotify
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Spotify.png
    exclude-filter: üá∑üá∫
    proxies: [–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã, DIRECT]

  - name: Telegram
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Steam
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Steam.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Cloudflare
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Cloudflare.png
    proxies: [PASS, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Amazon
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Amazon.png
    proxies: [PASS, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Google
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png
    proxies: [PASS, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: GitHub
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/GitHub.png
    proxies: [PASS, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: AI
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Bot.png
    exclude-filter: üá∑üá∫
    proxies: [–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Twitter
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Twitter.png
    proxies: [–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã, DIRECT]

  - name: Colocrossing
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Contabo
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: DigitalOcean
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Gcore
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Hetzner
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Linode
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Mega
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Oracle
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: OVH
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Scaleway
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Vultr
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Akamai
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: CDN77
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: Fastly
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Server.png
    proxies: [DIRECT, –ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã]

  - name: QUIC
    type: select
    icon: https://github.com/zxc-rv/assets/raw/main/group-icons/quic.png
    proxies: [REJECT, PASS]

rule-providers:
  amazon@domain:       { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/amazon.mrs }
  amazon@ipcidr:       { <<: *ipcidr,      url: https://github.com/PentiumB/CDN-RuleSet/releases/latest/download/amazon.mrs }

  colocrossing@ipcidr: { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/colocrossing_ips.list }
  contabo@ipcidr:      { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/contabo_ips.list }
  digitalocean@ipcidr: { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/digitalocean_ips.list }
  gcore@ipcidr:        { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/gcore_ips.list }
  hetzner@ipcidr:      { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/hetzner_ips.list }
  linode@ipcidr:       { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/linode_ips.list }
  mega@ipcidr:         { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/mega_ips.list }
  oracle@ipcidr:       { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/oracle_ips.list }
  ovh@ipcidr:          { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/ovh_ips.list }
  scaleway@ipcidr:     { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/scaleway_ips.list }
  vultr@ipcidr:        { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/vultr_ips.list }
  akamai@ipcidr:       { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/akamai_ips.list }
  cdn77@ipcidr:        { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/cdn77_ips.list }
  fastly@ipcidr:       { <<: *ipcidr-text, url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/fastly_ips.list }

  refilter@domain:     { <<: *domain,      url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/re-filter/domain-rule.mrs }
  domains@classical:   { <<: *classical,   url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/domains.list }
  other@classical:     { <<: *classical,   url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/other.list }
  politic@classical:   { <<: *classical,   url: https://github.com/Anton111111/rule-lists/releases/download/lists-20251207-002638-835e3fe/politic.list }

  category-ai@domain:  { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/category-ai-!cn.mrs }
  cloudflare@domain:   { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/cloudflare.mrs }
  cloudflare@ipcidr:   { <<: *ipcidr,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/cloudflare.mrs }
  discord@classical:   { <<: *classical,   url: https://github.com/zxc-rv/assets/raw/main/rules/discord.list }
  google@domain:       { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/google.mrs }
  github@domain:       { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/github.mrs }
  meta@domain:         { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/facebook.mrs }
  meta@ipcidr:         { <<: *ipcidr,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/facebook.mrs }
  reddit@domain:       { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/reddit.mrs }
  spotify@domain:      { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/spotify.mrs }
  steam@domain:        { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/steam.mrs }
  telegram@domain:     { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/telegram.mrs }
  telegram@ipcidr:     { <<: *ipcidr,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geoip/telegram.mrs }
  twitch@domain:       { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/twitch.mrs }
  twitter@domain:      { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/twitter.mrs }
  youtube@domain:      { <<: *domain,      url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/youtube.mrs }

rules:
  - AND,((DST-PORT,443),(NETWORK,UDP)),QUIC
  - OR,((DOMAIN-SUFFIX,gql.twitch.tv),(DOMAIN-SUFFIX,usher.ttvnw.net)),–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã # –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ Twitch.tv

  - RULE-SET,category-ai@domain,AI
  - RULE-SET,steam@domain,Steam
  - RULE-SET,spotify@domain,Spotify
  - RULE-SET,reddit@domain,Reddit
  - RULE-SET,youtube@domain,YouTube
  - RULE-SET,twitch@domain,Twitch
  - RULE-SET,twitter@domain,Twitter
  - RULE-SET,discord@classical,Discord
  - RULE-SET,colocrossing@ipcidr,Colocrossing
  - RULE-SET,contabo@ipcidr,Contabo
  - RULE-SET,digitalocean@ipcidr,DigitalOcean
  - RULE-SET,gcore@ipcidr,Gcore
  - RULE-SET,hetzner@ipcidr,Hetzner
  - RULE-SET,linode@ipcidr,Linode
  - RULE-SET,mega@ipcidr,Mega
  - RULE-SET,oracle@ipcidr,Oracle
  - RULE-SET,ovh@ipcidr,OVH
  - RULE-SET,scaleway@ipcidr,Scaleway
  - RULE-SET,vultr@ipcidr,Vultr
  - RULE-SET,akamai@ipcidr,Akamai
  - RULE-SET,cdn77@ipcidr,CDN77
  - RULE-SET,fastly@ipcidr,Fastly
  - OR,((RULE-SET,meta@domain),(RULE-SET,meta@ipcidr,no-resolve)),Meta
  - OR,((RULE-SET,telegram@domain),(RULE-SET,telegram@ipcidr,no-resolve)),Telegram
  - OR,((RULE-SET,cloudflare@domain),(RULE-SET,cloudflare@ipcidr)),Cloudflare
  - OR,((RULE-SET,amazon@domain),(RULE-SET,amazon@ipcidr)),Amazon

  - RULE-SET,refilter@domain,–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã
  - RULE-SET,domains@classical,–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã
  - RULE-SET,other@classical,–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã
  - RULE-SET,politic@classical,–ó–∞–±–ª–æ–∫. —Å–µ—Ä–≤–∏—Å—ã

  - RULE-SET,google@domain,Google
  - RULE-SET,github@domain,GitHub
  - MATCH,DIRECT

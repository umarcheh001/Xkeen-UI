# üöÄ Xkeen UI ‚Äî –≤–µ–±‚Äë–ø–∞–Ω–µ–ª—å –¥–ª—è XKeen –Ω–∞ Keenetic (Entware)

**Xkeen UI** ‚Äî –ª—ë–≥–∫–∞—è –≤–µ–±‚Äë–ø–∞–Ω–µ–ª—å –¥–ª—è —Ä–æ—É—Ç–µ—Ä–æ–≤ **Keenetic** —Å **Entware**.  
–ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ñ–∏–≥–∞–º–∏ **Xray / Mihomo**, —Å–µ—Ä–≤–∏—Å–∞–º–∏ **XKeen**, –ª–æ–≥–∞–º–∏, –±—ç–∫–∞–ø–∞–º–∏/—Å–Ω–∞–ø—à–æ—Ç–∞–º–∏, —Ñ–∞–π–ª–∞–º–∏ (–¥–≤—É—Ö–ø–∞–Ω–µ–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä), –∞ —Ç–∞–∫–∂–µ ‚Äî —Ä–∞–±–æ—Ç–∞—Ç—å —Å **DAT GeoIP/GeoSite** (—Ç–µ–≥–∏, –ø–æ–∏—Å–∫, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, ‚Äú–≤ –ø—Ä–∞–≤–∏–ª–æ‚Äù).

> ‚ö†Ô∏è –ü–∞–Ω–µ–ª—å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –Ω–∞ –¥–æ–º–∞—à–Ω—é—é —Å–µ—Ç—å. –ù–µ –ø—É–±–ª–∏–∫—É–π –µ—ë –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç. –ò—Å–ø–æ–ª—å–∑—É–π –ø–∞—Ä–æ–ª—å –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π –¥–æ—Å—Ç—É–ø (ACL / Firewall / VPN).

---

## üî• –ß—Ç–æ –Ω–æ–≤–æ–≥–æ / –∫–ª—é—á–µ–≤—ã–µ —Ñ–∏—á–∏

### üß© Xray Routing / –∫–æ–Ω—Ñ–∏–≥–∏
- –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–≥–æ–≤ Xray (inbounds / outbounds / routing) + –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `*.jsonc` (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏).
- **–®–∞–±–ª–æ–Ω—ã —Ä–æ—É—Ç–∏–Ω–≥–∞** (routing templates) –∏ —É–¥–æ–±–Ω–æ–µ –∞–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ/–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞.
- **–ë—ç–∫–∞–ø—ã –∏ —Å–Ω–∞–ø—à–æ—Ç—ã –∫–æ–Ω—Ñ–∏–≥–æ–≤ Xray**:
  - *History* (timestamp) ‚Äî —Ä—É—á–Ω—ã–µ/–ø–æ –¥–µ–π—Å—Ç–≤–∏—é –∑–∞–ø–∏—Å–∏.
  - *Snapshots* –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä `07_observatory.json`) ‚Äî —Ö—Ä–∞–Ω–∏—Ç **–ø—Ä–µ–¥—ã–¥—É—â—É—é** –≤–µ—Ä—Å–∏—é —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é (–∫–∞–∫ ‚Äú–æ—Ç–∫–∞—Ç‚Äù).

### üóÇÔ∏è DAT GeoIP / GeoSite
- –ó–∞–≥—Ä—É–∑–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DAT —Ñ–∞–π–ª–æ–≤.
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ: —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤, –ø–æ–∏—Å–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤, copy `geosite:TAG` / `geoip:TAG`.
- –ö–Ω–æ–ø–∫–∞ **¬´–í –ø—Ä–∞–≤–∏–ª–æ¬ª** (–¥–æ–±–∞–≤–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–µ–≥ –ø—Ä—è–º–æ –≤ routing‚Äë–ø—Ä–∞–≤–∏–ª–æ) ‚Äî –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –∫–æ–ø–∏–ø–∞—Å—Ç–∞.

> –ü—Ä–æ—Å–º–æ—Ç—Ä ‚Äú–°–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ‚Äù DAT –∏ –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ **xk-geodat** (—Å–º. –Ω–∏–∂–µ).

### üì¶ –ë—ç–∫–∞–ø—ã Xray –∫–æ–Ω—Ñ–∏–≥–æ–≤ (UI)
- –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞/–∫–∞—Ä—Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—ç–∫–∞–ø–∞–º–∏: —Å–ø–∏—Å–æ–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ.
- –ê–≤—Ç–æ‚Äë—Å–Ω–∞–ø—à–æ—Ç—ã –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é –∫–æ–Ω—Ñ–∏–≥–æ–≤ (–∫–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π rollback).

### üìú –õ–æ–≥–∏ / —Ç–µ—Ä–º–∏–Ω–∞–ª / —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
- Live‚Äë–ª–æ–≥–∏ Xray: WebSocket (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ) –∏–ª–∏ HTTP‚Äëpolling fallback.
- –¢–µ—Ä–º–∏–Ω–∞–ª: ‚ÄúCommand Runner‚Äù + –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π PTY (xterm.js), –µ—Å–ª–∏ WebSocket –¥–æ—Å—Ç—É–ø–µ–Ω.
- –î–≤—É—Ö–ø–∞–Ω–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä, –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ/—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞, jobs —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º.
- Remote File Manager (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —á–µ—Ä–µ–∑ `lftp`.

---

## üß± –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Ä–µ–ª–∏–∑ (Assets)

–í **GitHub Releases** –æ–±—ã—á–Ω–æ –ª–µ–∂–∞—Ç:
- `xkeen-ui-routing.tar.gz` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π –∞—Ä—Ö–∏–≤ –ø–∞–Ω–µ–ª–∏.
- `xk-geodat-linux-arm64` ‚Äî –±–∏–Ω–∞—Ä–Ω–∏–∫ xk-geodat –¥–ª—è **arm64/aarch64**.
- `xk-geodat-linux-mipsle` ‚Äî –±–∏–Ω–∞—Ä–Ω–∏–∫ xk-geodat –¥–ª—è **mipsle (GOMIPS=softfloat)**.
- `SHA256SUMS` ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã –¥–ª—è –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ xk-geodat (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω workflow).

---

## üß† –ó–∞—á–µ–º –Ω—É–∂–µ–Ω xk-geodat (–∏ –ø–æ—á–µ–º—É —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫)

`xk-geodat` ‚Äî –º–∞–ª–µ–Ω—å–∫–∞—è —É—Ç–∏–ª–∏—Ç–∞‚Äë–ø–∞—Ä—Å–µ—Ä DAT, –∫–æ—Ç–æ—Ä–∞—è:
- —á–∏—Ç–∞–µ—Ç `geosite*.dat` / `geoip*.dat`,
- –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–≥–∏, —Å—á–∏—Ç–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã, –¥–∞—ë—Ç –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫,
- –ø–æ–º–æ–≥–∞–µ—Ç UI –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å ‚Äú–°–æ–¥–µ—Ä–∂–∏–º–æ–µ‚Äù –∏ –¥–µ–ª–∞—Ç—å –∫–Ω–æ–ø–∫—É **¬´–í –ø—Ä–∞–≤–∏–ª–æ¬ª**.

–ë–µ–∑ `xk-geodat` –ø–∞–Ω–µ–ª—å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ **–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ DAT –∏ –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –±—É–¥—É—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã/–æ—Ç–∫–ª—é—á–µ–Ω—ã**.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
- ‚úÖ `arm64/aarch64`
- ‚úÖ `mipsle` **softfloat**
- ‚ùå –¥—Ä—É–≥–∏–µ ‚Äî –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–Ω–µ–ª–∏ (SSH)

### –í–∞—Ä–∏–∞–Ω—Ç A ‚Äî –∞—Ä—Ö–∏–≤ —É–∂–µ –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ
```sh
cd /opt
tar -xzf xkeen-ui-routing.tar.gz
cd xkeen-ui
sh install.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç B ‚Äî —Å–∫–∞—á–∞—Ç—å –∏–∑ Releases –∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å
```sh
cd /opt \
  && curl -fL -o xkeen-ui-routing.tar.gz "https://github.com/umarcheh001/Xkeen-UI/releases/latest/download/xkeen-ui-routing.tar.gz" \
  && tar -xzf xkeen-ui-routing.tar.gz \
  && sh xkeen-ui/install.sh
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç `install.sh`
- —Å—Ç–∞–≤–∏—Ç/–ø—Ä–æ–≤–µ—Ä—è–µ—Ç **python3** (Entware) –∏ **python3-pip**;
- —á–µ—Ä–µ–∑ `pip` —Å—Ç–∞–≤–∏—Ç **Flask** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) –∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) **gevent + gevent-websocket** –¥–ª—è WebSocket —Ñ—É–Ω–∫—Ü–∏–π;
- —Å—Ç–∞–≤–∏—Ç `lftp` (–¥–ª—è Remote File Manager);
- –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ—Ä—Ç (–æ–±—ã—á–Ω–æ **8088**, –∑–∞—Ç–µ–º **8091**, –∑–∞—Ç–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω **8100‚Äì8199**);
- —Å—Ç–∞–≤–∏—Ç –ø–∞–Ω–µ–ª—å –≤ `/opt/etc/xkeen-ui`, —Å–æ–∑–¥–∞—ë—Ç `/opt/etc/init.d/S99xkeen-ui` –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å;
- –ø—Ä–∏ **–ø–µ—Ä–≤–æ–π** —É—Å—Ç–∞–Ω–æ–≤–∫–µ –¥–µ–ª–∞–µ—Ç –∞–≤—Ç–æ‚Äë–±—ç–∫–∞–ø –±–∞–∑–æ–≤—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ Xray –≤ `/opt/etc/xray/configs/backups`;
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ—Å—Ç–∞–≤–∏—Ç—å **xk-geodat** (—á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–∏ DAT ‚Äú–°–æ–¥–µ—Ä–∂–∏–º–æ–µ‚Äù –∏ ‚Äú–í –ø—Ä–∞–≤–∏–ª–æ‚Äù).

---

## üåê –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏
```text
http://<IP_—Ä–æ—É—Ç–µ—Ä–∞>:<–ø–æ—Ä—Ç>/
```

–õ–æ–≥–∏ –ø–∞–Ω–µ–ª–∏:
- install‚Äë–ª–æ–≥: `/opt/var/log/xkeen-ui.log`
- runtime‚Äë–ª–æ–≥–∏: `/opt/var/log/xkeen-ui/` (stdout/stderr –∏ –¥—Ä.)

---

## üßë‚Äçüíª –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º (SSH)
```sh
/opt/etc/init.d/S99xkeen-ui start
/opt/etc/init.d/S99xkeen-ui stop
/opt/etc/init.d/S99xkeen-ui restart
/opt/etc/init.d/S99xkeen-ui status
```

---

## üß© –£—Å—Ç–∞–Ω–æ–≤–∫–∞ xk-geodat

### 1) –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–û—Ç–∫—Ä–æ–π **Routing Xray ‚Üí DAT-—Ñ–∞–π–ª—ã GeoIP / GeoSite**:

- –ö–Ω–æ–ø–∫–∞ **xk-geodat** ‚Äî –ø–æ—Å—Ç–∞–≤–∏—Ç/–æ–±–Ω–æ–≤–∏—Ç –∏–∑ GitHub Releases (latest).
- –ö–Ω–æ–ø–∫–∞ **‚¨ÜÔ∏é** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **–∏–∑ —Ñ–∞–π–ª–∞** (–µ—Å–ª–∏ GitHub –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∏–ª–∏ —Ç—ã —Ç–µ—Å—Ç–∏—Ä—É–µ—à—å —Å–≤–æ–π –±–∏–Ω–∞—Ä–Ω–∏–∫).

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ DAT –ø–æ—è–≤—è—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äú–°–æ–¥–µ—Ä–∂–∏–º–æ–µ‚Äù –∏ ‚Äú–í –ø—Ä–∞–≤–∏–ª–æ‚Äù.

### 2) –ß–µ—Ä–µ–∑ SSH (—Ä—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±)
–°–∫–∞—á–∞—Ç—å –∏ –ø–æ–ª–æ–∂–∏—Ç—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–∞–Ω–µ–ª–∏:
```sh
mkdir -p /opt/etc/xkeen-ui/bin
curl -fL -o /opt/etc/xkeen-ui/bin/xk-geodat "https://github.com/umarcheh001/Xkeen-UI/releases/latest/download/xk-geodat-linux-<arch>"
chmod +x /opt/etc/xkeen-ui/bin/xk-geodat
/opt/etc/xkeen-ui/bin/xk-geodat --help
```

–ì–¥–µ `<arch>`:
- `arm64` –¥–ª—è arm64/aarch64
- `mipsle` –¥–ª—è mipsle softfloat

### 3) –ü—Ä–æ–≤–µ—Ä–∫–∞ SHA256 (–µ—Å–ª–∏ –µ—Å—Ç—å SHA256SUMS)
```sh
cd /tmp
curl -fL -O "https://github.com/umarcheh001/Xkeen-UI/releases/latest/download/SHA256SUMS"
sha256sum /opt/etc/xkeen-ui/bin/xk-geodat
# —Å—Ä–∞–≤–Ω–∏ —Ö–µ—à —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–æ–∫–æ–π –≤ SHA256SUMS
```

> –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ xk-geodat –¥–µ–ª–∞–µ—Ç ‚Äú–º—è–≥–∫—É—é‚Äù –ø—Ä–æ–≤–µ—Ä–∫—É: –µ—Å–ª–∏ SHA256SUMS –¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º.

---

## üß∞ –ü–æ–ª–µ–∑–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—â–∏–µ
- `XKEEN_UI_STATE_DIR` ‚Äî –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ UI (auth/secret/–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- `XKEEN_UI_SECRET_KEY` ‚Äî –∫–ª—é—á —Å–µ—Å—Å–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é)
- `XKEEN_ALLOW_SHELL` ‚Äî —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ Command Runner (`1`/`0`)
- `XKEEN_XRAY_LOG_TZ_OFFSET` ‚Äî —Å–º–µ—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ª–æ–≥–æ–≤ (—á–∞—Å—ã), –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `3`
- `XKEEN_LOG_DIR` ‚Äî –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é runtime‚Äë–ª–æ–≥–æ–≤ –ø–∞–Ω–µ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/opt/var/log/xkeen-ui`)
- `XKEEN_UI_ENV_FILE` ‚Äî —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/opt/etc/xkeen-ui/devtools.env`)

### –§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä / Remote FM
- `XKEEN_TRASH_DIR` ‚Äî –ø—É—Ç—å –∫ –∫–æ—Ä–∑–∏–Ω–µ (local)
- `XKEEN_TRASH_MAX_GB` / `XKEEN_TRASH_MAX_BYTES` ‚Äî –ª–∏–º–∏—Ç –∫–æ—Ä–∑–∏–Ω—ã
- `XKEEN_REMOTEFM_ENABLE` ‚Äî –≤–∫–ª—é—á–∏—Ç—å Remote File Manager (`1`/`0`)
- `XKEEN_REMOTEFM_MAX_UPLOAD_MB` ‚Äî –ª–∏–º–∏—Ç upload –¥–ª—è remote
- `XKEEN_REMOTEFM_SESSION_TTL` ‚Äî TTL remote —Å–µ—Å—Å–∏–π

### xk-geodat (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä—É–∫–∞–º–∏/–¥–ª—è —Ç–µ—Å—Ç–æ–≤)
- `XKEEN_GEODAT_BIN` ‚Äî –ø—É—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/opt/etc/xkeen-ui/bin/xk-geodat`)
- `XKEEN_GEODAT_INSTALL` ‚Äî `1` —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–µ–∑ –≤–æ–ø—Ä–æ—Å–æ–≤ / `0` –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
- `XKEEN_GEODAT_URL` ‚Äî –ø–æ–ª–Ω—ã–π URL –Ω–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫ (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç latest)
- `XKEEN_GEODAT_TAG` ‚Äî —Å–∫–∞—á–∞—Ç—å –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞ (tag)
- `XKEEN_GEODAT_ASSET` ‚Äî –∏–º—è –∞—Å—Å–µ—Ç–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞–≤—Ç–æ‚Äë–¥–µ—Ç–µ–∫—Ç)
- `XKEEN_GEODAT_LOCAL` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- `XKEEN_GEODAT_SHA256SUMS_URL` ‚Äî URL –¥–æ `SHA256SUMS` (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –∫–∞—Å—Ç–æ–º)

---

## üßπ –£–¥–∞–ª–µ–Ω–∏–µ / –æ—á–∏—Å—Ç–∫–∞

### –ë—ã—Å—Ç—Ä–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–∏ (–±–µ–∑ —Ç—Ä–æ–≥–∞–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
```sh
sh /opt/etc/xkeen-ui/uninstall.sh
```

–£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```sh
rm -rf /opt/var/log/xkeen-ui
rm -f /opt/var/log/xkeen-ui.log
rm -f /opt/var/run/xkeen-ui.pid
```

> `uninstall.sh` —É–¥–∞–ª—è–µ—Ç **—Ñ–∞–π–ª—ã –ø–∞–Ω–µ–ª–∏** –∏ init‚Äë—Å–∫—Ä–∏–ø—Ç, –Ω–æ **–Ω–µ —É–¥–∞–ª—è–µ—Ç** Python/Flask/gevent/lftp –∏ –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥–∏ Xray/Mihomo.

### –ß—Ç–æ –µ—â—ë –º–æ–≥–ª–∞ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø–∞–Ω–µ–ª—å (–∏ –∫–∞–∫ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é)
> ‚ö†Ô∏è –î–µ–ª–∞–π —ç—Ç–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ —É —Ç–µ–±—è **–Ω–µ—Ç –¥—Ä—É–≥–∏—Ö** —Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞ Python/Flask/gevent/lftp –≤ Entware.

1) –£–¥–∞–ª–∏—Ç—å wrapper `sysmon` (–ø–∞–Ω–µ–ª—å —Å—Ç–∞–≤–∏—Ç –µ–≥–æ –≤ `/opt/bin/sysmon`, –µ—Å–ª–∏ –≤ –∞—Ä—Ö–∏–≤–µ –±—ã–ª `tools/sysmon_keenetic.sh`):
```sh
rm -f /opt/bin/sysmon
```

2) –£–¥–∞–ª–∏—Ç—å —à–∞–±–ª–æ–Ω—ã (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å —É–±—Ä–∞—Ç—å –∏–º–µ–Ω–Ω–æ ‚Äú–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª—å—é‚Äù):
```sh
rm -f /opt/etc/mihomo/templates/custom.yaml
rm -f /opt/etc/mihomo/templates/zkeen.yaml
# Xray templates –æ–±—ã—á–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ—Å—Ç–∞–≤–ª—è—Ç—å (–æ–Ω–∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∏ –º–æ–≥–ª–∏ –±—ã—Ç—å –¥–æ–Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã).
```

3) –£–¥–∞–ª–∏—Ç—å –±—ç–∫–∞–ø—ã/—Å–Ω–∞–ø—à–æ—Ç—ã (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã):
```sh
rm -rf /opt/etc/xray/configs/backups
```

4) –£–¥–∞–ª–∏—Ç—å Python pip‚Äë–ø–∞–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–≤–∏–ª install.sh:
```sh
/opt/bin/python3 -m pip uninstall -y flask gevent gevent-websocket || true
```

5) –£–¥–∞–ª–∏—Ç—å Entware –ø–∞–∫–µ—Ç—ã (–µ—Å–ª–∏ –æ–Ω–∏ —Å—Ç–∞–≤–∏–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —Ä–∞–¥–∏ –ø–∞–Ω–µ–ª–∏):
```sh
opkg remove lftp || true
opkg remove python3-pip || true
opkg remove python3 || true
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
```sh
opkg list-installed | grep -E 'python3|python3-pip|lftp' || true
/opt/bin/python3 -m pip list 2>/dev/null | grep -Ei 'flask|gevent' || true
```

---

## üõ†Ô∏è Troubleshooting

### WebSocket (PTY / live‚Äë–ª–æ–≥–∏) –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ù–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö `gevent` –º–æ–∂–µ—Ç –Ω–µ —Å–æ–±—Ä–∞—Ç—å—Å—è (–æ—Å–æ–±–µ–Ω–Ω–æ mips/mipsel). –¢–æ–≥–¥–∞ –ø–∞–Ω–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–π–¥—ë—Ç –Ω–∞ **HTTP‚Äëpolling** –¥–ª—è –ª–æ–≥–æ–≤, –∞ PTY‚Äë—Ç–µ—Ä–º–∏–Ω–∞–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.

### GitHub –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ
- –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –ø—É—Ç—å: —Å–∫–∞—á–∞—Ç—å `xk-geodat-linux-<arch>` –Ω–∞ –ü–ö –∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å **—á–µ—Ä–µ–∑ UI –∫–Ω–æ–ø–∫–æ–π ‚Äú‚¨ÜÔ∏é –∏–∑ —Ñ–∞–π–ª–∞‚Äù**.

### –°–±—Ä–æ—Å–∏—Ç—å –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
```sh
/opt/etc/init.d/S99xkeen-ui stop
rm -f /opt/etc/xkeen-ui/auth.json
/opt/etc/init.d/S99xkeen-ui start
```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –í—Å–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (CodeMirror, xterm.js –∏ —Ç.–¥.) –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ ‚Äî –ø–∞–Ω–µ–ª—å –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç CDN.
- –ü—Ä–æ–µ–∫—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ Keenetic/Entware –∏ —Å—Ç–∞—Ä–∞–µ—Ç—Å—è –Ω–µ –ª–æ–º–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏/—à–∞–±–ª–æ–Ω—ã (—à–∞–±–ª–æ–Ω—ã Xray –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è).
---

![xkeen-ui-demo](https://github.com/user-attachments/assets/f2f6649c-2e9b-49a2-9cd8-f855fbd55084)


